<!--
  Generated template for the ModalCreateFoodPage page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

	<ion-navbar color="primary">
		<ion-title>New Food</ion-title>
		<ion-buttons end>
			<button ion-button icon-only (click)="cancel()">
				<ion-icon md="md-close"></ion-icon>
			</button>
		</ion-buttons>
	</ion-navbar>

</ion-header>


<ion-content >
	<!-- {{img_url}} -->
	<!-- {{food.toppings|json}} -->
	<ion-list class="field-list">
		<ion-item *ngIf="img_url">
			<img [src]="img_url">
			<button ion-button clear block (click)="selectImage()">
				Edit Picture
			</button>
		</ion-item>
		<ion-item *ngIf="!img_url">
			<button  ion-button clear block (click)="selectImage()">
				Tap to Add Picture
			</button>
		</ion-item>
<!-- 		<ion-item *ngIf="img_url">
			<img [src]="img_url">
		</ion-item> -->
		<!-- <ion-item>
			<ion-label color="primary" stacked >Picture</ion-label>
			<ion-input type="text" placeholder="Tap to Add Picture"></ion-input>
		</ion-item> -->
		<ion-item>
			<ion-label color="primary" stacked >Title</ion-label>
			<ion-input type="text" [(ngModel)]="food.title"></ion-input>
		</ion-item>
		<ion-item>
			<ion-label color="primary" stacked>Price</ion-label>
			<ion-input type="text" [(ngModel)]="food.price"></ion-input>
		</ion-item>
		<ion-item>
			<ion-label color="primary" stacked>Estimate Time</ion-label>
			<ion-input type="text" [(ngModel)]="food.estimate_time"></ion-input>
		</ion-item>
		<ion-item>
			<ion-label color="primary" stacked>Category</ion-label>
			<ion-input disabled type="text" [value]="food.category.title"></ion-input>
			<!-- <ion-select (ionChange)="changeCurCat(food.category)" [(ngModel)]="food.category">
				<ion-option *ngFor="let item of currentCategory" [value]="item">{{item.title}}</ion-option>
			</ion-select> -->
		</ion-item>
		<ion-item>
			<ion-label color="primary" stacked>Type</ion-label>
			<ion-select [(ngModel)]="food.type">
				<ion-option *ngFor="let type of currentCategory.types" [value]="type">{{type.title}}</ion-option>
			</ion-select>
		</ion-item>
		
		<ion-item>
			<ion-label color="primary" stacked>Toppings</ion-label>
			<ion-select [(ngModel)]="food.toppings" multiple="true">
				<ion-option *ngFor="let topping of toppings" [value]="topping">{{topping.title}}</ion-option>
			</ion-select>
		</ion-item>
		<ion-item *ngIf="selectedOptions">
			<p *ngFor="let item of selectedOptions">{{item}}</p>
		</ion-item>
		<ion-item>
			<button ion-button (click)="openNewOption()">new option</button>
			<button ion-button (click)="newFood()">save</button>			
		</ion-item>
		<!-- <ion-item>
			<ion-label color="primary" floating>Category</ion-label>
			<ion-select [(ngModel)]="selectedCat">
				<ion-option *ngFor="let item of categories" >{{item}}</ion-option>
			</ion-select>
		</ion-item> -->

	</ion-list>
</ion-content>
<ion-footer>
	<button block ion-button>OK</button>
	<button block ion-button>Cancel</button>
</ion-footer>